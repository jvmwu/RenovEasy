---
inclusion: always
---

# 通用开发规范

## 交流偏好
- 默认使用中文进行所有交流和代码注释
- 代码变量和函数名使用英文，但注释必须使用中文
- 错误信息和调试信息优先使用中文解释
- 文档和 README 文件使用中文编写

## 代码风格规范
- 使用 TypeScript 严格模式，所有类型必须明确定义
- 优先使用函数式组件和 React Hooks
- 使用 ES6+ 语法特性（箭头函数、解构、模板字符串等）
- 遵循 ESLint 和 Prettier 配置，保持代码格式一致性

## 导入规范
- 使用路径别名 `@/` 进行内部模块导入
- 导入顺序：React 相关 → 第三方库 → 内部模块 → 类型定义
- 通过 index.ts 文件统一导出组件和工具函数
- 避免循环依赖，保持模块间清晰的依赖关系

## 组件开发规范
- 组件名使用 PascalCase，文件名与组件名保持一致
- 每个组件都应该有明确的 TypeScript 接口定义
- 使用 NativeWind (Tailwind CSS) 进行样式编写
- 组件应该是纯函数，避免副作用
- 复杂组件应该拆分为更小的子组件

## 状态管理规范
- 使用 Redux Toolkit 管理全局状态
- 使用 React Query 处理服务端状态和缓存
- 本地状态优先使用 useState 和 useReducer
- 避免在组件中直接调用 API，使用 RTK Query 或自定义 hooks

## 错误处理规范
- 所有异步操作必须包含错误处理
- 使用统一的错误处理机制和用户友好的错误提示
- 开发环境下提供详细的错误信息，生产环境下隐藏敏感信息
- 网络请求失败时提供重试机制

## 性能优化规范
- 使用 React.memo 优化组件重渲染
- 合理使用 useMemo 和 useCallback 缓存计算结果和函数
- 图片资源使用适当的压缩和懒加载
- 避免在渲染函数中创建新对象和函数

## 测试规范
- 重要组件和工具函数必须编写单元测试
- 使用 Jest 和 React Native Testing Library
- 测试文件命名为 `*.test.tsx` 或 `*.spec.tsx`
- 测试覆盖率应保持在合理水平

## Git 提交规范
- 提交信息使用中文，格式：`类型: 简短描述`
- 类型包括：功能、修复、样式、重构、测试、文档等
- 每次提交应该是一个完整的功能单元
- 避免提交调试代码和临时文件
